#include <iostream>
using namespace std;

int main(){
    int t;
    cin>>t;
    char m[3][3];
    bool x=0,s=0,o=0,d=0;
    while (t--)
    {
        x=0,s=0,o=0,d=0;
        for(int i=0; i<3; i++){
            for(int j=0; j<3; j++){
                cin>>m[i][j];
            }
        }
        if(m[0][0]=='X'){
            if(m[1][1]=='X'){
                if(m[2][2]=='X'){
                    x=1;
                }
            }
        }
        if(m[0][0]=='+'){
            if(m[1][1]=='+'){
                if(m[2][2]=='+'){
                    s=1;
                }
            }
        }
        if(m[0][0]=='O'){
            if(m[1][1]=='O'){
                if(m[2][2]=='O'){
                    o=1;
                }
            }
        }
        if(m[0][0]=='.'){
            if(m[1][1]=='.'){
                if(m[2][2]=='.'){
                    d=1;
                }
            }
        }

        if(m[0][0]=='X'){
            if(m[0][1]=='X'){
                if(m[0][2]=='X'){
                    x=1;
                }
            }
        }
        if(m[0][0]=='+'){
            if(m[0][1]=='+'){
                if(m[0][2]=='+'){
                    s=1;
                }
            }
        }
        if(m[0][0]=='O'){
            if(m[0][1]=='O'){
                if(m[0][2]=='O'){
                    o=1;
                }
            }
        }
        if(m[0][0]=='.'){
            if(m[0][1]=='.'){
                if(m[0][2]=='.'){
                    d=1;
                }
            }
        }       

        if(m[0][0]=='X'){
            if(m[1][0]=='X'){
                if(m[2][0]=='X'){
                    x=1;
                }
            }
        }
        if(m[0][0]=='+'){
            if(m[1][0]=='+'){
                if(m[2][0]=='+'){
                    s=1;
                }
            }
        }
        if(m[0][0]=='O'){
            if(m[1][0]=='O'){
                if(m[2][0]=='O'){
                    o=1;
                }
            }
        }
        if(m[0][0]=='.'){
            if(m[1][0]=='.'){
                if(m[2][0]=='.'){
                    d=1;
                }
            }
        }

        if(m[2][0]=='X'){
            if(m[1][1]=='X'){
                if(m[0][2]=='X'){
                    x=1;
                }
            }
        }
        if(m[2][0]=='+'){
            if(m[1][1]=='+'){
                if(m[0][2]=='+'){
                    s=1;
                }
            }
        }
        if(m[2][0]=='O'){
            if(m[1][1]=='O'){
                if(m[0][2]=='O'){
                    o=1;
                }
            }
        }
        if(m[2][0]=='.'){
            if(m[1][1]=='.'){
                if(m[0][2]=='.'){
                    d=1;
                }
            }
        }

        if(m[0][1]=='X'){
            if(m[1][1]=='X'){
                if(m[2][1]=='X'){
                    x=1;
                }
            }
        }
        if(m[0][1]=='+'){
            if(m[1][1]=='+'){
                if(m[2][1]=='+'){
                    s=1;
                }
            }
        }
        if(m[0][1]=='O'){
            if(m[1][1]=='O'){
                if(m[2][1]=='O'){
                    o=1;
                }
            }
        }
        if(m[0][1]=='.'){
            if(m[1][1]=='.'){
                if(m[2][1]=='.'){
                    d=1;
                }
            }
        }

        if(m[0][2]=='X'){
            if(m[1][2]=='X'){
                if(m[2][2]=='X'){
                    x=1;
                }
            }
        }
        if(m[0][2]=='+'){
            if(m[1][2]=='+'){
                if(m[2][2]=='+'){
                    s=1;
                }
            }
        }
        if(m[0][2]=='O'){
            if(m[1][2]=='O'){
                if(m[2][2]=='O'){
                    o=1;
                }
            }
        }
        if(m[0][2]=='.'){
            if(m[1][2]=='.'){
                if(m[2][2]=='.'){
                    d=1;
                }
            }
        }

        if(m[1][0]=='X'){
            if(m[1][1]=='X'){
                if(m[1][2]=='X'){
                    x=1;
                }
            }
        }
        if(m[1][0]=='+'){
            if(m[1][1]=='+'){
                if(m[1][2]=='+'){
                    s=1;
                }
            }
        }
        if(m[1][0]=='O'){
            if(m[1][1]=='O'){
                if(m[1][2]=='O'){
                    o=1;
                }
            }
        }
        if(m[1][0]=='.'){
            if(m[1][1]=='.'){
                if(m[1][2]=='.'){
                    d=1;
                }
            }
        }

        if(m[2][0]=='X'){
            if(m[2][1]=='X'){
                if(m[2][2]=='X'){
                    x=1;
                }
            }
        }
        if(m[2][0]=='+'){
            if(m[2][1]=='+'){
                if(m[2][2]=='+'){
                    s=1;
                }
            }
        }
        if(m[2][0]=='O'){
            if(m[2][1]=='O'){
                if(m[2][2]=='O'){
                    o=1;
                }
            }
        }
        if(m[2][0]=='.'){
            if(m[2][1]=='.'){
                if(m[2][2]=='.'){
                    d=1;
                }
            }
        }

        if(x){
            cout<<"X\n";
        }
        else if(o){
            cout<<"O\n";
        }
        else if(s){
            cout<<"+\n";
        }
        else{
            cout<<"DRAW\n";
        }
    }
    return 0;
}